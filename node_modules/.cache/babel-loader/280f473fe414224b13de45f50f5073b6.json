{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kevseripek/Documents/web development/redux-refresher-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/kevseripek/Documents/web development/redux-refresher-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{Fragment,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import Cart from\"./components/Cart/Cart\";import Layout from\"./components/Layout/Layout\";import Products from\"./components/Shop/Products\";import{uiActions}from\"./store/ui-slice\";import Notification from\"./components/UI/Notification\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var dispatch=useDispatch();var showCart=useSelector(function(state){return state.ui.cartIsVisible;});var cart=useSelector(function(state){return state.cart;});var notification=useSelector(function(state){return state.ui.notification;});useEffect(function(){var sendCartData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(uiActions.showNotification({status:\"pending\",title:\"Sending...\",message:\"Sending cart data...\"}));_context.next=3;return fetch(\"https://react-redux-shopping-app-default-rtdb.firebaseio.com/cart.json\",{method:\"PUT\",body:JSON.stringify(cart)});case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error(\"Sending cart data failed!\");case 6:dispatch(uiActions.showNotification({status:\"success\",title:\"Success!\",message:\"Sent cart data successfully!\"}));case 7:case\"end\":return _context.stop();}}},_callee);}));return function sendCartData(){return _ref.apply(this,arguments);};}();sendCartData().catch(function(error){dispatch(uiActions.showNotification({status:\"error\",title:\"Error!\",message:\"Sending cart data failed!\"}));});},[cart,dispatch]);return/*#__PURE__*/_jsxs(Fragment,{children:[notification&&/*#__PURE__*/_jsx(Notification,{status:notification.status,title:notification.title,message:notification.message}),/*#__PURE__*/_jsxs(Layout,{children:[showCart&&/*#__PURE__*/_jsx(Cart,{}),/*#__PURE__*/_jsx(Products,{})]})]});}export default App;","map":{"version":3,"names":["Fragment","useEffect","useSelector","useDispatch","Cart","Layout","Products","uiActions","Notification","App","dispatch","showCart","state","ui","cartIsVisible","cart","notification","sendCartData","showNotification","status","title","message","fetch","method","body","JSON","stringify","response","ok","Error","catch","error"],"sources":["/Users/kevseripek/Documents/web development/redux-refresher-app/src/App.js"],"sourcesContent":["import { Fragment, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport Cart from \"./components/Cart/Cart\";\nimport Layout from \"./components/Layout/Layout\";\nimport Products from \"./components/Shop/Products\";\nimport { uiActions } from \"./store/ui-slice\";\nimport Notification from \"./components/UI/Notification\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  const showCart = useSelector((state) => state.ui.cartIsVisible);\n  const cart = useSelector((state) => state.cart);\n  const notification = useSelector (state => state.ui.notification)\n\n  useEffect(() => {\n    const sendCartData = async () => {\n      dispatch(\n        uiActions.showNotification({\n          status: \"pending\",\n          title: \"Sending...\",\n          message: \"Sending cart data...\",\n        })\n      );\n      const response = await fetch(\n        \"https://react-redux-shopping-app-default-rtdb.firebaseio.com/cart.json\",\n        {\n          method: \"PUT\",\n          body: JSON.stringify(cart),\n        }\n      );\n      if (!response.ok) {\n        throw new Error(\"Sending cart data failed!\");\n      }\n\n      dispatch(\n        uiActions.showNotification({\n          status: \"success\",\n          title: \"Success!\",\n          message: \"Sent cart data successfully!\",\n        })\n      );\n    };\n\n    sendCartData().catch((error) => {\n      dispatch(\n        uiActions.showNotification({\n          status: \"error\",\n          title: \"Error!\",\n          message: \"Sending cart data failed!\",\n        })\n      );\n    });\n  }, [cart, dispatch]);\n\n  return (\n    <Fragment>\n      {notification && (\n        <Notification\n          status={notification.status}\n          title={notification.title}\n          message={notification.message}\n        />\n      )}\n      <Layout>\n        {showCart && <Cart />}\n        <Products />\n      </Layout>\n    </Fragment>\n  );\n}\n\nexport default App;\n"],"mappings":"0TAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CAEA,MAAOC,KAAP,KAAiB,wBAAjB,CACA,MAAOC,OAAP,KAAmB,4BAAnB,CACA,MAAOC,SAAP,KAAqB,4BAArB,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,aAAP,KAAyB,8BAAzB,C,wFAEA,QAASC,IAAT,EAAe,CACb,GAAMC,SAAQ,CAAGP,WAAW,EAA5B,CACA,GAAMQ,SAAQ,CAAGT,WAAW,CAAC,SAACU,KAAD,QAAWA,MAAK,CAACC,EAAN,CAASC,aAApB,EAAD,CAA5B,CACA,GAAMC,KAAI,CAAGb,WAAW,CAAC,SAACU,KAAD,QAAWA,MAAK,CAACG,IAAjB,EAAD,CAAxB,CACA,GAAMC,aAAY,CAAGd,WAAW,CAAE,SAAAU,KAAK,QAAIA,MAAK,CAACC,EAAN,CAASG,YAAb,EAAP,CAAhC,CAEAf,SAAS,CAAC,UAAM,CACd,GAAMgB,aAAY,4FAAG,kJACnBP,QAAQ,CACNH,SAAS,CAACW,gBAAV,CAA2B,CACzBC,MAAM,CAAE,SADiB,CAEzBC,KAAK,CAAE,YAFkB,CAGzBC,OAAO,CAAE,sBAHgB,CAA3B,CADM,CAAR,CADmB,sBAQIC,MAAK,CAC1B,wEAD0B,CAE1B,CACEC,MAAM,CAAE,KADV,CAEEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeX,IAAf,CAFR,CAF0B,CART,QAQbY,QARa,kBAedA,QAAQ,CAACC,EAfK,8BAgBX,IAAIC,MAAJ,CAAU,2BAAV,CAhBW,QAmBnBnB,QAAQ,CACNH,SAAS,CAACW,gBAAV,CAA2B,CACzBC,MAAM,CAAE,SADiB,CAEzBC,KAAK,CAAE,UAFkB,CAGzBC,OAAO,CAAE,8BAHgB,CAA3B,CADM,CAAR,CAnBmB,sDAAH,kBAAZJ,aAAY,0CAAlB,CA4BAA,YAAY,GAAGa,KAAf,CAAqB,SAACC,KAAD,CAAW,CAC9BrB,QAAQ,CACNH,SAAS,CAACW,gBAAV,CAA2B,CACzBC,MAAM,CAAE,OADiB,CAEzBC,KAAK,CAAE,QAFkB,CAGzBC,OAAO,CAAE,2BAHgB,CAA3B,CADM,CAAR,CAOD,CARD,EASD,CAtCQ,CAsCN,CAACN,IAAD,CAAOL,QAAP,CAtCM,CAAT,CAwCA,mBACE,MAAC,QAAD,YACGM,YAAY,eACX,KAAC,YAAD,EACE,MAAM,CAAEA,YAAY,CAACG,MADvB,CAEE,KAAK,CAAEH,YAAY,CAACI,KAFtB,CAGE,OAAO,CAAEJ,YAAY,CAACK,OAHxB,EAFJ,cAQE,MAAC,MAAD,YACGV,QAAQ,eAAI,KAAC,IAAD,IADf,cAEE,KAAC,QAAD,IAFF,GARF,GADF,CAeD,CAED,cAAeF,IAAf"},"metadata":{},"sourceType":"module"}